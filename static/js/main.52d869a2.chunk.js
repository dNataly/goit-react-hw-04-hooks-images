(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},13:function(e,t,n){e.exports={loader:"Loader_loader__1j2Bs"}},14:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},15:function(e,t,n){e.exports={Button:"Button_Button__3R1xi"}},21:function(e,t,n){},22:function(e,t,n){},4:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchFormButton:"Searchbar_SearchFormButton__21S85",SearchFormInput:"Searchbar_SearchFormInput__VhsfU"}},46:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),o=n.n(r),s=(n(21),n(11)),i=n(3),l=(n(22),n(23),n(12)),u=n.n(l),j=n(13),m=n.n(j),b=n(1);function h(){return Object(b.jsx)(u.a,{type:"Oval",color:"#00BFFF",height:50,width:50,className:m.a.loader})}var d=n(9),O=n.n(d);function f(e){var t=e.item,n=e.onClick;return Object(b.jsx)("li",{className:O.a.ImageGalleryItem,onClick:n,children:Object(b.jsx)("img",{src:t.webformatURL,alt:t.tags,className:O.a.img})})}var p=n(10),v=n.n(p),g=document.querySelector("#modal-root");function E(e){var t=e.onClose,n=e.children;Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(r.createPortal)(Object(b.jsx)("div",{className:v.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(b.jsx)("div",{className:v.a.Modal,children:n})}),g)}var S=n(14),x=n.n(S);function _(e){var t=e.items,n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)(!1),l=Object(i.a)(s,2),u=l[0],j=l[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e,t){return Object(b.jsx)(f,{item:e,onClick:function(){!function(e){o(e),j(!0)}(t)}},t)}))}),u&&Object(b.jsx)(E,{onClose:function(){j((function(e){return!e}))},children:Object(b.jsx)("img",{src:t[r].largeImageURL,alt:t[r].tags})})]})}var N=n(15),I=n.n(N);function y(e){return Object(b.jsx)("button",{type:"button",onClick:e.onClick,className:I.a.Button,children:e.children})}var D=n(4),w=n.n(D),C=n(16);n(45);function k(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1];return Object(b.jsx)("header",{className:w.a.Searchbar,children:Object(b.jsxs)("form",{className:w.a.SearchForm,onSubmit:function(e){e.preventDefault();var n=r.trim();n&&t(n),o("")},children:[Object(b.jsx)("button",{type:"submit",className:w.a.SearchFormButton,children:Object(b.jsx)("span",{className:w.a.SearchFormButtonLabel,children:Object(b.jsx)(C.a,{})})}),Object(b.jsx)("input",{className:w.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)}})]})})}var F="https://pixabay.com/api/",G="22365607-cef5a2e8d771dec0544965281",L="12";var B={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected",LOADING:"loading"};function R(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(a.useState)(1),m=Object(i.a)(j,2),d=m[0],O=m[1],f=Object(a.useState)(!1),p=Object(i.a)(f,2),v=p[0],g=p[1],E=Object(a.useState)(null),S=Object(i.a)(E,2),x=S[0],N=S[1],I=Object(a.useState)(null),D=Object(i.a)(I,2),w=D[0],C=D[1];Object(a.useEffect)((function(){w===B.NEED_LOADING&&(C(B.PENDING),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(F,"?q=").concat(e,"&page=").concat(t,"&key=").concat(G,"&image_type=photo&orientation=horizontal&per_page=").concat(L)).then((function(e){if(!e.ok)throw new Error("Could not fetch ".concat(F,", received ").concat(e.status));return e.json()}))}(n,d).then((function(e){var t=e.hits.length;if(0===t)return N(new Error("No search results for ".concat(n))),void C(B.REJECTED);u((function(t){return[].concat(Object(s.a)(l),Object(s.a)(e.hits))})),g(R(t)),C(B.RESOLVED)})).then((function(){1!==d&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){N(e),C(B.REJECTED)})))}),[l,d,n,w]);var R=function(e){return!(e<L)};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(k,{onSubmit:function(e){u([]),c(e),O(1),C(B.NEED_LOADING)}}),w===B.REJECTED&&Object(b.jsxs)("div",{className:"error",children:[" ",x.message]}),Object(b.jsx)(_,{items:l}),w===B.PENDING&&Object(b.jsx)(h,{}),w===B.RESOLVED&&v&&Object(b.jsx)(y,{onClick:function(){O((function(e){return e+1})),C(B.NEED_LOADING)},children:"Load more"})]})}o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(R,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl"}}},[[46,1,2]]]);
//# sourceMappingURL=main.52d869a2.chunk.js.map