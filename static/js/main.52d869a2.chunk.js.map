{"version":3,"sources":["components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Searchbar/Searchbar.js","services/gotService.js","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","LoaderComponent","type","color","height","width","className","s","loader","ImageGalleryItem","item","onClick","src","webformatURL","alt","tags","img","modalRoot","document","querySelector","Modal","onClose","children","useEffect","handleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","Overlay","currentTarget","target","ImageGallery","items","useState","imageIndex","setImageIndex","showModal","setShowModal","map","index","handleClick","prev","largeImageURL","Button","props","Searchbar","onSubmit","query","setQuery","SearchForm","event","preventDefault","res","trim","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","value","apiBase","api_key","images_per_page","Status","PENDING","RESOLVED","REJECTED","LOADING","App","images","setImages","page","setPage","isMoreAvailable","setIsMoreAvailable","error","setError","status","setStatus","NEED_LOADING","fetch","then","ok","Error","json","gotService","results","resultsCount","hits","length","checkAvailability","scrollTo","top","documentElement","scrollHeight","behavior","catch","itemsLength","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.52d869a2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","import React from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nexport default function LoaderComponent() {\r\n    return <Loader type=\"Oval\" color=\"#00BFFF\" height={50} width={50} className={s.loader} />;\r\n  }\r\n\r\n","import s from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({ item, onClick }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={onClick}>\r\n      <img src={item.webformatURL} alt={item.tags} className={s.img} />\r\n    </li>\r\n  );\r\n}\r\n","import  { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default function Modal ({onClose, children}) {\r\n    useEffect(() => {\r\n        const handleKeyDown = e => {\r\n            if (e.code === 'Escape') {\r\n                onClose();\r\n            }\r\n        };\r\n\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        };\r\n    }, [onClose]);\r\n\r\n    const handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={handleBackdropClick}>\r\n        <div className={s.Modal}>{children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n\r\n","import {useState} from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nexport default function ImageGallery({items}) {\r\n    const [imageIndex, setImageIndex] = useState(null);\r\n    const [showModal, setShowModal] = useState(false);\r\n\r\n  function handleClick(index) {\r\n      setImageIndex(index);\r\n      setShowModal(true);\r\n  }\r\n\r\n  const toggleModal = () => {\r\n      setShowModal(prev => !prev);\r\n  };\r\n\r\n    return (\r\n      <>\r\n        <ul className={s.ImageGallery}>\r\n          {items.map((item, index) => (\r\n            <ImageGalleryItem\r\n              key={index}\r\n              item={item}\r\n              onClick={() => {\r\n                handleClick(index);\r\n              }}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {showModal && (\r\n          <Modal onClose={toggleModal}>\r\n            <img src={items[imageIndex].largeImageURL} alt={items[imageIndex].tags} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\n\r\nexport default function Button(props) {\r\n  return (\r\n    <button type=\"button\" onClick={props.onClick} className={s.Button}>\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport { BsSearch } from \"react-icons/bs\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport default function Searchbar ({onSubmit}) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleSearchFormSubmit = (event) => {\r\n    setQuery(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const res = query.trim();\r\n\r\n    if (res) {\r\n      onSubmit(res);\r\n    }\r\n    setQuery('');\r\n  };\r\n\r\n  return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>\r\n              <BsSearch />\r\n            </span>\r\n          </button>\r\n\r\n          <input className={s.SearchFormInput} type=\"text\" autoComplete=\"off\" autoFocus placeholder=\"Search images and photos\" onChange={handleSearchFormSubmit} />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n","const apiBase = \"https://pixabay.com/api/\";\nconst api_key = \"22365607-cef5a2e8d771dec0544965281\";\nconst images_per_page = \"12\";\n\nfunction gotService(query, page = 1) {\n  return fetch(`${apiBase}?q=${query}&page=${page}&key=${api_key}&image_type=photo&orientation=horizontal&per_page=${images_per_page}`).then((res) => {\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${apiBase}, received ${res.status}`);\n    }\n    return res.json();\n  });\n}\n\nexport { gotService, images_per_page };\n","import { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport LoaderComponent from \"./components/Loader/Loader.js\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport { gotService, images_per_page } from \"./services/gotService.js\";\n\nconst Status = {\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n  LOADING: \"loading\",\n};\n\nexport default function App() {\n    const [query, setQuery] = useState('');\n    const [images, setImages] = useState([]);\n    const [page, setPage] = useState(1);\n    const [isMoreAvailable, setIsMoreAvailable] = useState(false);\n    const [error, setError] = useState(null);\n    const [status, setStatus] = useState(null);\n\n    useEffect(() => {\n        if (status === Status.NEED_LOADING) {\n            setStatus(Status.PENDING);\n\n      gotService(query, page)\n        .then((results) => {\n          const resultsCount = results.hits.length;\n          if (resultsCount === 0) {\n              setError(new Error(`No search results for ${query}`));\n              setStatus(Status.REJECTED);\n              return;\n          }\n\n            setImages(prev => [...images, ...results.hits]);\n            setIsMoreAvailable(checkAvailability(resultsCount));\n            setStatus(Status.RESOLVED);\n          })\n        .then(() => {\n          if (page !== 1) {\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n          }\n        })\n        .catch((error) => {\n            setError(error);\n            setStatus(Status.REJECTED);\n        });\n    }\n  }, [images, page, query, status]);\n\n  const handleSearchSubmit = (query) => {\n      setImages([]);\n      setQuery(query);\n      setPage(1);\n      setStatus(Status.NEED_LOADING);\n  };\n\n  const handleLoadMore = () => {\n      setPage(prev => prev + 1);\n      setStatus(Status.NEED_LOADING);\n  };\n\n  const checkAvailability = (itemsLength) => {\n    return !(itemsLength < images_per_page);\n  };\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={handleSearchSubmit} />\n        {status === Status.REJECTED && <div className=\"error\"> {error.message}</div>}\n        <ImageGallery items={images} />\n        {status === Status.PENDING && <LoaderComponent />}\n        {status === Status.RESOLVED && isMoreAvailable && <Button onClick={handleLoadMore}>Load more</Button>}\n      </div>\n    );\n  }\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\"};"],"sourceRoot":""}